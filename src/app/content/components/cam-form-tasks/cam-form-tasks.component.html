<ng-content>
</ng-content>
<div [formGroup]="parent">
  <div formArrayName="tasks">
    <div *ngFor="let item of items; index as i" class="mb-1"
      [formGroupName]="i">
      <mat-card>
        <div class="row">
          <div class="col">
            <mat-slide-toggle class="mr-3 text-muted"
              formControlName="enabled">
            </mat-slide-toggle>
          </div>
          <div class="d-flex text-right">
            <button mat-mini-fab color="warn"
              (click)="onDeleteTask(i)" class="mr-3">
              <mat-icon>delete</mat-icon>
            </button>
          </div>
        </div>
        <mat-form-field>
          <input matInput placeholder="Position" type="number"
            formControlName="position">
          <mat-error *ngIf="hasError('tasks', i, 'position')">
            {{ errorMessage('tasks', i, 'position') }}
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Name"
            formControlName="name">
          <mat-error *ngIf="hasError('tasks', i, 'name')">
            {{ errorMessage('tasks', i, 'name') }}
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Description"
            formControlName="description">
          <mat-error *ngIf="hasError('tasks', i, 'description')">
            {{ errorMessage('tasks', i, 'description') }}
          </mat-error>
        </mat-form-field>
      </mat-card>
    </div>
  </div>
</div>